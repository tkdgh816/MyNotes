<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="MyNotes.Core.Views.NavigationEditor"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:views="using:MyNotes.Core.Views"
             xmlns:models="using:MyNotes.Core.Models">

  <UserControl.Resources>
    <views:NavigationEditorTreeViewItemTemplateSelector x:Key="NavigationEditorTreeViewItemTemplateSelector">
      <views:NavigationEditorTreeViewItemTemplateSelector.GroupItemTemplate>
        <DataTemplate x:DataType="models:NavigationGroupItem">
          <TreeViewItem ItemsSource="{x:Bind Children}"
                        IsExpanded="True"
                        Height="40">
            <Grid ColumnSpacing="12">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
              </Grid.ColumnDefinitions>
              <IconSourceElement Grid.Column="0"
                                 Width="20"
                                 Height="20"
                                 IconSource="{x:Bind Icon, Mode=OneWay}" />
              <TextBlock Grid.Column="1"
                         Text="{x:Bind Name, Mode=OneWay}"
                         VerticalAlignment="Center" />
              <views:IconButton Grid.Column="2"
                                Padding="4,2"
                                Margin="0,0,4,0">
                <views:IconButton.Icon>
                  <FontIcon Glyph="&#xE711;" />
                </views:IconButton.Icon>
              </views:IconButton>
            </Grid>
          </TreeViewItem>
        </DataTemplate>
      </views:NavigationEditorTreeViewItemTemplateSelector.GroupItemTemplate>

      <views:NavigationEditorTreeViewItemTemplateSelector.BoardItemTemplate>
        <DataTemplate x:DataType="models:NavigationBoardItem">
          <TreeViewItem Height="40">
            <Grid ColumnSpacing="12">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
              </Grid.ColumnDefinitions>
              <IconSourceElement Grid.Column="0"
                                 Width="20"
                                 Height="20"
                                 IconSource="{x:Bind Icon, Mode=OneWay}" />
              <TextBlock Grid.Column="1"
                         Text="{x:Bind Name, Mode=OneWay}"
                         VerticalAlignment="Center" />
              <views:IconButton Grid.Column="2"
                                Padding="4,2"
                                Margin="0,0,4,0">
                <views:IconButton.Icon>
                  <FontIcon Glyph="&#xE711;"/>
                </views:IconButton.Icon>
              </views:IconButton>
            </Grid>
          </TreeViewItem>
        </DataTemplate>
      </views:NavigationEditorTreeViewItemTemplateSelector.BoardItemTemplate>
    </views:NavigationEditorTreeViewItemTemplateSelector>
  </UserControl.Resources>

  <Grid RowSpacing="6">
    <Grid.RowDefinitions>
      <RowDefinition />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>
    <ScrollViewer Grid.Row="0"
                  Padding="0,0,12,0">
      <TreeView ItemsSource="{x:Bind ViewModel.ListMenuItems}"
                ItemTemplateSelector="{StaticResource NavigationEditorTreeViewItemTemplateSelector}"/>
    </ScrollViewer>
  </Grid>
</UserControl>
